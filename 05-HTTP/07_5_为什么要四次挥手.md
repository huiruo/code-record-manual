
tcp是全双工通信，服务端和客服端都能发送和接收数据。

tcp在断开连接时，需要服务端和客服端都确定对方将不再发送数据。

### 第1次挥手
由客户端向服务端发起，服务端收到信息后就能确定客户端已经停止发送数据。

### 第2次挥手
由服务端向客户端发起，客户端收到消息后就能确定服务端已经知道客户端不会再发送数据。

### 第3次握手
由服务端向客户端发起，客户端收到消息后就能确定服务端已经停止发送数据。

### 第4次挥手
由客户端向服务端发起，服务端收到信息后就能确定客户端已经知道服务端不会再发送数据。

```
为什么不是3次挥手

在客服端第1次挥手时，服务端可能还在发送数据。

所以第2次挥手和第3次挥手不能合并。
```

## 通俗解析
TCP断开连接为什么比建立连接多一个步骤呢？其实很简单，因为谈恋爱的时候还没有共同财产，但是分手的时候还需要分东西呀
```
“渣男”阶段，在小美给小扎第一次寄送信件时，为什么不把小扎送给小美的礼物一次性全寄过去呢？寄两次邮费贵
因为整理东西还需要点时间，先回信表明态度，显得更霸气。
```

A--请求-->B
小扎决定分手了，给小美寄了封分手信。并要求把送的东西还给我

A<--确认--B
分手就算了，居然还有脸要回送我的东西！渣男！小美，收到信后，气得跳脚，立马回了封信，让他滚蛋。

A<--请求--B
第二天，小美就去邮局，把渣男送给她的东西都打包寄还了给他。小美还不忘在信中提醒，
收到东西之后给我回封信，不要到时候耍赖说没收到，我再也不想看见你了！渣男！

A--确认-->B
小扎收到小美寄的包裹之后，立马回了封信，说东西收到了，我们以后也别联系了。
